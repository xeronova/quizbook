학급 전체의 퀴즈 통계를 분석하고 요약 보고서를 생성하라.

## 입력 파라미터

- **$ARGUMENTS**: 없음 (전체 학급 대상)

## 사전 조건

- `data/roster.json`이 존재해야 한다. 없으면 `/teacher-setup`을 먼저 실행하라고 안내한다.
- `data/students/` 디렉토리에 최소 1명 이상의 학생 데이터가 있어야 한다.

## 실행 절차

---

### 1단계: 전체 학생 데이터 로드

`data/roster.json`의 학생 목록을 읽고, 각 학생의 데이터를 로드한다:

```
📂 학급 데이터 로드

등록 학생: N명
데이터 로드 성공: M명
데이터 없음: K명 (<이름 목록>)
```

데이터가 없는 학생은 경고 후 분석에서 제외한다.

**성공 조건**: 1명 이상의 학생 데이터 로드 완료
**실패 시**: "❌ 1단계 실패: 분석할 학생 데이터가 없습니다" 출력 후 중단

---

### 2단계: 학급 전체 요약 통계

모든 학생의 데이터를 종합하여 학급 수준 통계를 계산한다:

```
📊 학급 전체 요약

| 지표           | 값          |
|---------------|-------------|
| 총 학생 수      | N명         |
| 총 게임 수      | X회         |
| 학생 평균 게임 수 | Y회        |
| 학급 평균 점수   | Z점         |
| 학급 평균 정답률  | W%         |
| 학급 최고 점수   | P점 (<이름>) |
| 학급 최저 점수   | Q점 (<이름>) |
```

---

### 3단계: 점수 분포 분석

학생들의 평균 정답률 분포를 분석한다:

```
📊 정답률 분포

| 구간        | 학생 수 | 비율  | 학생 목록           |
|------------|--------|------|-------------------|
| 90% 이상 (S) |   ?    |  ?%  | <이름, 이름>       |
| 80~89% (A)  |   ?    |  ?%  | <이름, 이름>       |
| 70~79% (B)  |   ?    |  ?%  | <이름, 이름>       |
| 60~69% (C)  |   ?    |  ?%  | <이름, 이름>       |
| 60% 미만 (D) |   ?    |  ?%  | <이름, 이름>       |
```

---

### 4단계: 카테고리별 학급 분석

카테고리별로 학급 전체의 성적을 분석하여 보충이 필요한 영역을 식별한다:

```
📊 카테고리별 학급 정답률

| 카테고리      | 학급 평균 | 최고      | 최저      | 판정        |
|--------------|---------|----------|----------|-------------|
| 한국사        | 75%     | 90%(홍) | 55%(이)  | ✅ 양호      |
| 과학          | 58%     | 80%(김) | 40%(박)  | ⚠️ 보충 필요  |
| 지리          | 72%     | 85%(이) | 60%(김)  | ✅ 양호      |
| 예술과 문화    | 45%     | 65%(홍) | 30%(박)  | 🚨 집중 보충  |
```

**판정 기준:**
- ✅ 양호: 학급 평균 70% 이상
- ⚠️ 보충 필요: 학급 평균 50~69%
- 🚨 집중 보충: 학급 평균 50% 미만

---

### 5단계: 난이도별 분석

난이도별 학급 성적을 분석한다 (데이터가 있는 경우):

```
📊 난이도별 학급 정답률

| 난이도  | 학급 평균 | 분석                    |
|--------|---------|------------------------|
| easy   | 85%     | 기초 이해도 양호          |
| medium | 65%     | 적절한 난이도            |
| hard   | 42%     | 어려운 문제에서 보충 필요   |
```

---

### 6단계: 상위/하위 학생 식별

학급 내 상위 및 하위 학생을 식별하여 맞춤 지도에 활용한다:

```
🏆 상위 학생 (정답률 기준 상위 30%)

| 순위 | 학생   | 평균 정답률 | 평균 점수 | 특기 카테고리 |
|------|-------|-----------|---------|------------|
| 1    | 홍길동 | 88%       | 115     | 한국사      |
| 2    | 김철수 | 82%       | 105     | 과학       |

📚 하위 학생 (정답률 기준 하위 30%)

| 순위 | 학생   | 평균 정답률 | 평균 점수 | 약점 카테고리 |
|------|-------|-----------|---------|------------|
| 1    | 박영수 | 48%       | 55      | 예술과 문화  |
| 2    | 이민지 | 52%       | 62      | 과학       |
```

---

### 7단계: 학급 요약 보고서 생성

분석 결과를 마크다운 파일로 저장한다:

- **파일 경로**: `data/reports/class_summary.md`

```markdown
# 📊 학급 전체 통계 보고서

생성일: <YYYY-MM-DD HH:MM:SS>
분석 대상: N명

---
```

2~6단계 분석 결과를 모두 포함한다.

**추가 섹션 — 선생님 액션 아이템:**

```
## 📌 선생님 액션 아이템

### 🚨 즉시 조치
- <카테고리> 보충 수업 필요 (학급 평균 ?%)
- <학생 이름> 개별 지도 필요 (정답률 ?%)

### ⚠️ 모니터링
- <학생 이름> 성적 하락 추세 (최근 ?%p 감소)
- <카테고리> 정답률 하락세

### ✅ 긍정적
- <학생 이름> 성장 추세 양호 (+?%p)
- <카테고리> 학급 전반 이해도 높음
```

---

### 8단계: 최종 보고

```
✅ 학급 통계 분석 완료

👥 분석 학생: N명
📊 학급 평균 정답률: ?%
🚨 보충 필요 카테고리: <카테고리 목록>
🏆 최우수 학생: <이름> (?%)
📚 지도 필요 학생: <이름> (?%)
📁 보고서: data/reports/class_summary.md
```

---

## 오류 처리 정책

- 학생 데이터가 0명이면 즉시 중단
- 카테고리별/난이도별 데이터가 부족하면 해당 섹션을 "데이터 부족"으로 표시하고 계속 진행
- 보고서 파일 생성 실패 시 화면 출력은 유지하되 경고 표시

## 주의사항

- 읽기 전용 작업이다. 학생 데이터 파일을 수정하지 마라.
- 보고서 파일(`data/reports/class_summary.md`)만 생성/덮어쓴다.
- 기존 보고서가 있으면 사용자에게 덮어쓸지 물어본다.
- 학생 수가 많을 때 (10명 이상) 표가 길어지면 상위/하위 5명만 표시하고 나머지는 요약한다.
